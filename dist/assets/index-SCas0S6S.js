(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function f(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=f(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".nav-toggle"),c=document.querySelector(".nav-links-container");n&&c&&(n.addEventListener("click",()=>{c.classList.toggle("menu-open");const e=n.querySelector("i");e.classList.toggle("fa-bars"),e.classList.toggle("fa-times"),c.classList.contains("menu-open")?n.setAttribute("aria-label","Cerrar menú"):n.setAttribute("aria-label","Abrir menú")}),document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",()=>{c.classList.contains("menu-open")&&(c.classList.remove("menu-open"),n.querySelector("i").classList.add("fa-bars"),n.querySelector("i").classList.remove("fa-times"),n.setAttribute("aria-label","Abrir menú"))})}));const f=document.getElementById("theme-toggle"),i=document.body,t=e=>{e==="dark"?(i.classList.add("dark-mode"),i.classList.remove("light-mode")):(i.classList.add("light-mode"),i.classList.remove("dark-mode"))},o=window.matchMedia("(prefers-color-scheme: dark)"),d=localStorage.getItem("theme");t(d||(o.matches?"dark":"light")),f&&f.addEventListener("click",()=>{const l=(i.classList.contains("dark-mode")?"dark":"light")==="dark"?"light":"dark";localStorage.setItem("theme",l),t(l)}),o.addEventListener("change",e=>{localStorage.getItem("theme")||t(e.matches?"dark":"light")});const y=document.querySelectorAll("main > section[id]"),b=document.querySelectorAll(".nav-links-container a.nav-link"),L={root:null,rootMargin:"-60px 0px -40% 0px",threshold:0},E=new IntersectionObserver((e,l)=>{e.forEach(r=>{const a=r.target.getAttribute("id"),m=document.querySelector(`.nav-links-container a[href="#${a}"]`);r.isIntersecting&&r.intersectionRatio>0&&(b.forEach(h=>h.classList.remove("active")),m&&m.classList.add("active"))})},L);y.forEach(e=>{e&&E.observe(e)});const k=document.querySelectorAll(".section-card"),O=new IntersectionObserver((e,l)=>{e.forEach(r=>{r.isIntersecting&&(r.target.classList.add("visible"),l.unobserve(r.target))})},{threshold:.1});k.forEach(e=>{O.observe(e)});const g=document.querySelector(".project-filters"),S=document.querySelectorAll(".project-card");g&&g.addEventListener("click",e=>{if(e.target.tagName!=="BUTTON")return;g.querySelectorAll(".filter-btn").forEach(a=>a.classList.remove("active")),e.target.classList.add("active");const r=e.target.getAttribute("data-filter");S.forEach(a=>{const m=a.getAttribute("data-tech");r==="all"||m.includes(r)?a.style.display="flex":a.style.display="none"})});const u=document.getElementById("contact-form"),s=document.getElementById("form-message");u&&u.addEventListener("submit",e=>{e.preventDefault();const l=document.getElementById("name").value,r=document.getElementById("email").value,a=document.getElementById("message").value;if(l.trim()===""||r.trim()===""||a.trim()===""){s.textContent="Por favor, completa todos los campos.",s.style.color="#ef4444";return}const m=new FormData(u),h=u.action;fetch(h,{method:"POST",body:m,headers:{Accept:"application/json"}}).then(p=>{p.ok?(s.textContent="¡Gracias por tu mensaje! Te responderé pronto.",s.style.color="#22c55e",u.reset()):p.json().then(v=>{Object.hasOwn(v,"errors")?s.textContent=v.errors.map(A=>A.message).join(", "):s.textContent="Oops! Hubo un problema al enviar tu mensaje.",s.style.color="#ef4444"})}).catch(p=>{s.textContent="Oops! Hubo un problema al enviar tu mensaje.",s.style.color="#ef4444"}),setTimeout(()=>{s.textContent=""},5e3)})});
